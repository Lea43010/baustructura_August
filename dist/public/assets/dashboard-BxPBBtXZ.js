import{c as re,r as c,j as e,C as b,a as v,k,l as we,m as je,P as L,n as W,o as T,p as A,q as Se,s as se,B as C,b as Ne,d as ye,X as Q,t as V,v as Ce,e as Pe,w as Ae,x as S,U as Te}from"./index-CyhjQ_VK.js";import{P as Ee}from"./project-card-DPRXhll6.js";import{P as Re}from"./page-header-CfMEZ_QD.js";import{A as ke}from"./app-layout-BmSq0-fU.js";import{B as De}from"./badge-BZr39Q1C.js";import{c as Le}from"./index-BdQq_4o_.js";import{C as ze}from"./clock-I34conbD.js";import{C as _e}from"./circle-check-big-sNzTz-JF.js";import{S as He}from"./settings-RhnSVDqX.js";import{F as G}from"./mobile-nav-Cu-R2ZoU.js";import{P as Me}from"./plus-D7MkCcQh.js";import{C as Be}from"./camera-BUbOfpe-.js";import{S as Ie}from"./shield-DX56K7pi.js";import{F as Oe}from"./file-text-BJnhxmUe.js";import{M as We}from"./mic-COeeLFIv.js";import{S as Ue}from"./server-DRk7dtT5.js";import{B as Fe}from"./building-2-C2UTDJSA.js";import"./progress-D76rD4VV.js";import"./chevron-right-BNpR6-Uw.js";import"./users-cXk-SK6P.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function Xe(t){const s=c.useRef(0),r=c.useRef(0);return c.useEffect(()=>(r.current=performance.now(),s.current+=1,()=>{var o;performance.now()-r.current,s.current,(o=performance.memory)==null||o.usedJSHeapSize})),{renderCount:s.current}}function Ye(){c.useEffect(()=>{},[])}function ee({title:t,value:s,icon:r,color:l}){return e.jsx(b,{children:e.jsx(v,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide",children:t}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s})]}),e.jsx("div",{className:`w-10 h-10 ${l} rounded-lg flex items-center justify-center`,children:e.jsx("div",{className:"text-white",children:r})})]})})})}function Ve(t,s){return c.useReducer((r,l)=>s[r][l]??r,t)}var $="ScrollArea",[ne,At]=je($),[$e,w]=ne($),le=c.forwardRef((t,s)=>{const{__scopeScrollArea:r,type:l="hover",dir:o,scrollHideDelay:a=600,...d}=t,[i,h]=c.useState(null),[x,n]=c.useState(null),[u,m]=c.useState(null),[f,g]=c.useState(null),[y,X]=c.useState(null),[P,z]=c.useState(0),[Y,_]=c.useState(0),[H,D]=c.useState(!1),[M,B]=c.useState(!1),p=k(s,E=>h(E)),j=we(o);return e.jsx($e,{scope:r,type:l,dir:j,scrollHideDelay:a,scrollArea:i,viewport:x,onViewportChange:n,content:u,onContentChange:m,scrollbarX:f,onScrollbarXChange:g,scrollbarXEnabled:H,onScrollbarXEnabledChange:D,scrollbarY:y,onScrollbarYChange:X,scrollbarYEnabled:M,onScrollbarYEnabledChange:B,onCornerWidthChange:z,onCornerHeightChange:_,children:e.jsx(L.div,{dir:j,...d,ref:p,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":Y+"px",...t.style}})})});le.displayName=$;var ae="ScrollAreaViewport",ce=c.forwardRef((t,s)=>{const{__scopeScrollArea:r,children:l,nonce:o,...a}=t,d=w(ae,r),i=c.useRef(null),h=k(s,i,d.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(L.div,{"data-radix-scroll-area-viewport":"",...a,ref:h,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:l})})]})});ce.displayName=ae;var N="ScrollAreaScrollbar",q=c.forwardRef((t,s)=>{const{forceMount:r,...l}=t,o=w(N,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:d}=o,i=t.orientation==="horizontal";return c.useEffect(()=>(i?a(!0):d(!0),()=>{i?a(!1):d(!1)}),[i,a,d]),o.type==="hover"?e.jsx(qe,{...l,ref:s,forceMount:r}):o.type==="scroll"?e.jsx(Ke,{...l,ref:s,forceMount:r}):o.type==="auto"?e.jsx(ie,{...l,ref:s,forceMount:r}):o.type==="always"?e.jsx(K,{...l,ref:s}):null});q.displayName=N;var qe=c.forwardRef((t,s)=>{const{forceMount:r,...l}=t,o=w(N,t.__scopeScrollArea),[a,d]=c.useState(!1);return c.useEffect(()=>{const i=o.scrollArea;let h=0;if(i){const x=()=>{window.clearTimeout(h),d(!0)},n=()=>{h=window.setTimeout(()=>d(!1),o.scrollHideDelay)};return i.addEventListener("pointerenter",x),i.addEventListener("pointerleave",n),()=>{window.clearTimeout(h),i.removeEventListener("pointerenter",x),i.removeEventListener("pointerleave",n)}}},[o.scrollArea,o.scrollHideDelay]),e.jsx(W,{present:r||a,children:e.jsx(ie,{"data-state":a?"visible":"hidden",...l,ref:s})})}),Ke=c.forwardRef((t,s)=>{const{forceMount:r,...l}=t,o=w(N,t.__scopeScrollArea),a=t.orientation==="horizontal",d=F(()=>h("SCROLL_END"),100),[i,h]=Ve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(i==="idle"){const x=window.setTimeout(()=>h("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(x)}},[i,o.scrollHideDelay,h]),c.useEffect(()=>{const x=o.viewport,n=a?"scrollLeft":"scrollTop";if(x){let u=x[n];const m=()=>{const f=x[n];u!==f&&(h("SCROLL"),d()),u=f};return x.addEventListener("scroll",m),()=>x.removeEventListener("scroll",m)}},[o.viewport,a,h,d]),e.jsx(W,{present:r||i!=="hidden",children:e.jsx(K,{"data-state":i==="hidden"?"hidden":"visible",...l,ref:s,onPointerEnter:T(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:T(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),ie=c.forwardRef((t,s)=>{const r=w(N,t.__scopeScrollArea),{forceMount:l,...o}=t,[a,d]=c.useState(!1),i=t.orientation==="horizontal",h=F(()=>{if(r.viewport){const x=r.viewport.offsetWidth<r.viewport.scrollWidth,n=r.viewport.offsetHeight<r.viewport.scrollHeight;d(i?x:n)}},10);return R(r.viewport,h),R(r.content,h),e.jsx(W,{present:l||a,children:e.jsx(K,{"data-state":a?"visible":"hidden",...o,ref:s})})}),K=c.forwardRef((t,s)=>{const{orientation:r="vertical",...l}=t,o=w(N,t.__scopeScrollArea),a=c.useRef(null),d=c.useRef(0),[i,h]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),x=xe(i.viewport,i.content),n={...l,sizes:i,onSizesChange:h,hasThumb:x>0&&x<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:m=>d.current=m};function u(m,f){return tt(m,d.current,i,f)}return r==="horizontal"?e.jsx(Je,{...n,ref:s,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=o.viewport.scrollLeft,f=te(m,i,o.dir);a.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollLeft=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollLeft=u(m,o.dir))}}):r==="vertical"?e.jsx(Qe,{...n,ref:s,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=o.viewport.scrollTop,f=te(m,i);a.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollTop=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollTop=u(m))}}):null}),Je=c.forwardRef((t,s)=>{const{sizes:r,onSizesChange:l,...o}=t,a=w(N,t.__scopeScrollArea),[d,i]=c.useState(),h=c.useRef(null),x=k(s,h,a.onScrollbarXChange);return c.useEffect(()=>{h.current&&i(getComputedStyle(h.current))},[h]),e.jsx(he,{"data-orientation":"horizontal",...o,ref:x,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":U(r)+"px",...t.style},onThumbPointerDown:n=>t.onThumbPointerDown(n.x),onDragScroll:n=>t.onDragScroll(n.x),onWheelScroll:(n,u)=>{if(a.viewport){const m=a.viewport.scrollLeft+n.deltaX;t.onWheelScroll(m),pe(m,u)&&n.preventDefault()}},onResize:()=>{h.current&&a.viewport&&d&&l({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:O(d.paddingLeft),paddingEnd:O(d.paddingRight)}})}})}),Qe=c.forwardRef((t,s)=>{const{sizes:r,onSizesChange:l,...o}=t,a=w(N,t.__scopeScrollArea),[d,i]=c.useState(),h=c.useRef(null),x=k(s,h,a.onScrollbarYChange);return c.useEffect(()=>{h.current&&i(getComputedStyle(h.current))},[h]),e.jsx(he,{"data-orientation":"vertical",...o,ref:x,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":U(r)+"px",...t.style},onThumbPointerDown:n=>t.onThumbPointerDown(n.y),onDragScroll:n=>t.onDragScroll(n.y),onWheelScroll:(n,u)=>{if(a.viewport){const m=a.viewport.scrollTop+n.deltaY;t.onWheelScroll(m),pe(m,u)&&n.preventDefault()}},onResize:()=>{h.current&&a.viewport&&d&&l({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:O(d.paddingTop),paddingEnd:O(d.paddingBottom)}})}})}),[Ge,de]=ne(N),he=c.forwardRef((t,s)=>{const{__scopeScrollArea:r,sizes:l,hasThumb:o,onThumbChange:a,onThumbPointerUp:d,onThumbPointerDown:i,onThumbPositionChange:h,onDragScroll:x,onWheelScroll:n,onResize:u,...m}=t,f=w(N,r),[g,y]=c.useState(null),X=k(s,p=>y(p)),P=c.useRef(null),z=c.useRef(""),Y=f.viewport,_=l.content-l.viewport,H=A(n),D=A(h),M=F(u,10);function B(p){if(P.current){const j=p.clientX-P.current.left,E=p.clientY-P.current.top;x({x:j,y:E})}}return c.useEffect(()=>{const p=j=>{const E=j.target;(g==null?void 0:g.contains(E))&&H(j,_)};return document.addEventListener("wheel",p,{passive:!1}),()=>document.removeEventListener("wheel",p,{passive:!1})},[Y,g,_,H]),c.useEffect(D,[l,D]),R(g,M),R(f.content,M),e.jsx(Ge,{scope:r,scrollbar:g,hasThumb:o,onThumbChange:A(a),onThumbPointerUp:A(d),onThumbPositionChange:D,onThumbPointerDown:A(i),children:e.jsx(L.div,{...m,ref:X,style:{position:"absolute",...m.style},onPointerDown:T(t.onPointerDown,p=>{p.button===0&&(p.target.setPointerCapture(p.pointerId),P.current=g.getBoundingClientRect(),z.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),B(p))}),onPointerMove:T(t.onPointerMove,B),onPointerUp:T(t.onPointerUp,p=>{const j=p.target;j.hasPointerCapture(p.pointerId)&&j.releasePointerCapture(p.pointerId),document.body.style.webkitUserSelect=z.current,f.viewport&&(f.viewport.style.scrollBehavior=""),P.current=null})})})}),I="ScrollAreaThumb",me=c.forwardRef((t,s)=>{const{forceMount:r,...l}=t,o=de(I,t.__scopeScrollArea);return e.jsx(W,{present:r||o.hasThumb,children:e.jsx(Ze,{ref:s,...l})})}),Ze=c.forwardRef((t,s)=>{const{__scopeScrollArea:r,style:l,...o}=t,a=w(I,r),d=de(I,r),{onThumbPositionChange:i}=d,h=k(s,u=>d.onThumbChange(u)),x=c.useRef(void 0),n=F(()=>{x.current&&(x.current(),x.current=void 0)},100);return c.useEffect(()=>{const u=a.viewport;if(u){const m=()=>{if(n(),!x.current){const f=rt(u,i);x.current=f,i()}};return i(),u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,n,i]),e.jsx(L.div,{"data-state":d.hasThumb?"visible":"hidden",...o,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...l},onPointerDownCapture:T(t.onPointerDownCapture,u=>{const f=u.target.getBoundingClientRect(),g=u.clientX-f.left,y=u.clientY-f.top;d.onThumbPointerDown({x:g,y})}),onPointerUp:T(t.onPointerUp,d.onThumbPointerUp)})});me.displayName=I;var J="ScrollAreaCorner",ue=c.forwardRef((t,s)=>{const r=w(J,t.__scopeScrollArea),l=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&l?e.jsx(et,{...t,ref:s}):null});ue.displayName=J;var et=c.forwardRef((t,s)=>{const{__scopeScrollArea:r,...l}=t,o=w(J,r),[a,d]=c.useState(0),[i,h]=c.useState(0),x=!!(a&&i);return R(o.scrollbarX,()=>{var u;const n=((u=o.scrollbarX)==null?void 0:u.offsetHeight)||0;o.onCornerHeightChange(n),h(n)}),R(o.scrollbarY,()=>{var u;const n=((u=o.scrollbarY)==null?void 0:u.offsetWidth)||0;o.onCornerWidthChange(n),d(n)}),x?e.jsx(L.div,{...l,ref:s,style:{width:a,height:i,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function O(t){return t?parseInt(t,10):0}function xe(t,s){const r=t/s;return isNaN(r)?0:r}function U(t){const s=xe(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=(t.scrollbar.size-r)*s;return Math.max(l,18)}function tt(t,s,r,l="ltr"){const o=U(r),a=o/2,d=s||a,i=o-d,h=r.scrollbar.paddingStart+d,x=r.scrollbar.size-r.scrollbar.paddingEnd-i,n=r.content-r.viewport,u=l==="ltr"?[0,n]:[n*-1,0];return fe([h,x],u)(t)}function te(t,s,r="ltr"){const l=U(s),o=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,a=s.scrollbar.size-o,d=s.content-s.viewport,i=a-l,h=r==="ltr"?[0,d]:[d*-1,0],x=Le(t,h);return fe([0,d],[0,i])(x)}function fe(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const l=(s[1]-s[0])/(t[1]-t[0]);return s[0]+l*(r-t[0])}}function pe(t,s){return t>0&&t<s}var rt=(t,s=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},l=0;return function o(){const a={left:t.scrollLeft,top:t.scrollTop},d=r.left!==a.left,i=r.top!==a.top;(d||i)&&s(),r=a,l=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(l)};function F(t,s){const r=A(t),l=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(l.current),[]),c.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(r,s)},[r,s])}function R(t,s){const r=A(s);Se(()=>{let l=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(l),l=window.requestAnimationFrame(r)});return o.observe(t),()=>{window.cancelAnimationFrame(l),o.unobserve(t)}}},[t,r])}var ge=le,st=ce,ot=ue;const be=c.forwardRef(({className:t,children:s,...r},l)=>e.jsxs(ge,{ref:l,className:se("relative overflow-hidden",t),...r,children:[e.jsx(st,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(ve,{}),e.jsx(ot,{})]}));be.displayName=ge.displayName;const ve=c.forwardRef(({className:t,orientation:s="vertical",...r},l)=>e.jsx(q,{ref:l,orientation:s,className:se("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:e.jsx(me,{className:"relative flex-1 rounded-full bg-border"})}));ve.displayName=q.displayName;function nt(){const[t,s]=c.useState(!1),[r,l]=c.useState([]);c.useEffect(()=>{const n=[{id:"1",title:"Support-Ticket aktualisiert",message:'Ihr Ticket #1002 wurde auf "In Bearbeitung" gesetzt.',type:"info",timestamp:new Date(Date.now()-3e5),read:!1,actionUrl:"/support"},{id:"2",title:"Testzeitraum läuft ab",message:"Ihr Testzeitraum endet in 15 Tagen. Jetzt Lizenz aktivieren!",type:"warning",timestamp:new Date(Date.now()-72e5),read:!1,actionUrl:"/pricing"},{id:"3",title:"Backup erfolgreich erstellt",message:"Das automatische Backup wurde erfolgreich abgeschlossen.",type:"success",timestamp:new Date(Date.now()-864e5),read:!0},{id:"4",title:"Neues Projekt hinzugefügt",message:'Projekt "Hochwasserschutz Mainz" wurde erfolgreich erstellt.',type:"success",timestamp:new Date(Date.now()-2592e5),read:!0}];l(n)},[]);const o=r.filter(n=>!n.read).length,a=n=>{l(u=>u.map(m=>m.id===n?{...m,read:!0}:m))},d=()=>{l(n=>n.map(u=>({...u,read:!0})))},i=n=>{l(u=>u.filter(m=>m.id!==n))},h=n=>{switch(n){case"success":return e.jsx(_e,{className:"h-4 w-4 text-green-500"});case"warning":return e.jsx(V,{className:"h-4 w-4 text-yellow-500"});case"error":return e.jsx(V,{className:"h-4 w-4 text-red-500"});default:return e.jsx(oe,{className:"h-4 w-4 text-blue-500"})}},x=n=>{const m=new Date().getTime()-n.getTime(),f=Math.floor(m/(1e3*60)),g=Math.floor(m/(1e3*60*60)),y=Math.floor(m/(1e3*60*60*24));return f<60?`vor ${f} Min`:g<24?`vor ${g} Std`:y<7?`vor ${y} Tag${y>1?"en":""}`:n.toLocaleDateString("de-DE")};return e.jsxs("div",{className:"relative",children:[e.jsxs(C,{variant:"ghost",size:"sm",onClick:()=>s(!t),className:"relative",children:[e.jsx(Z,{className:"h-4 w-4"}),o>0&&e.jsx(De,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:o>9?"9+":o})]}),t&&e.jsx("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:e.jsxs(b,{className:"border-0 shadow-none",children:[e.jsx(Ne,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ye,{className:"text-lg",children:"Benachrichtigungen"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[o>0&&e.jsx(C,{variant:"ghost",size:"sm",onClick:d,className:"text-xs",children:"Alle als gelesen"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>s(!1),children:e.jsx(Q,{className:"h-4 w-4"})})]})]})}),e.jsx(v,{className:"p-0",children:e.jsx(be,{className:"h-96",children:r.length===0?e.jsxs("div",{className:"p-4 text-center text-gray-500",children:[e.jsx(Z,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"Keine Benachrichtigungen"})]}):e.jsx("div",{className:"space-y-0",children:r.map(n=>e.jsx("div",{className:`p-4 border-b hover:bg-gray-50 transition-colors ${n.read?"":"bg-blue-50 border-l-4 border-l-blue-500"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[h(n.type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h4",{className:`text-sm font-medium ${n.read?"text-gray-700":"text-gray-900"}`,children:n.title}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>i(n.id),className:"h-4 w-4 p-0 text-gray-400 hover:text-gray-600",children:e.jsx(Q,{className:"h-3 w-3"})})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n.message}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[e.jsx(ze,{className:"h-3 w-3 mr-1"}),x(n.timestamp)]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!n.read&&e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>a(n.id),className:"h-6 text-xs",children:"Als gelesen markieren"}),n.actionUrl&&e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>{a(n.id),console.log("Navigate to:",n.actionUrl)},className:"h-6 text-xs text-blue-600 hover:text-blue-700",children:"Anzeigen"})]})]})]})]})},n.id))})})})]})})]})}function Tt(){const{user:t}=Ce(),[,s]=Pe();Xe(),Ye(),console.log("Dashboard Debug - User:",t),console.log("Dashboard Debug - User Role:",t==null?void 0:t.role);const{data:r=[],isLoading:l}=Ae({queryKey:["/api/projects"]}),o=r.filter(i=>i.status==="active").length,a=r.filter(i=>i.status==="planning").length,d=r.slice(0,2);return l?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Lade Dashboard..."})]})}):e.jsxs(ke,{children:[e.jsx(Re,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-white p-0.5",children:e.jsx("img",{src:"/logo.png",alt:"Sachverständigenbüro Logo",className:"w-full h-full object-cover rounded-full",onError:i=>{console.log("Logo loading failed, using fallback"),i.target.style.display="none";const h=i.target.parentElement;h&&(h.innerHTML='<div class="w-full h-full rounded-full bg-green-500 flex items-center justify-center text-white text-xs font-bold">BS</div>')}})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold text-gray-900",children:"Bau-Structura"}),e.jsx("p",{className:"text-xs text-gray-600",children:(t==null?void 0:t.role)==="admin"?"Administrator Dashboard":"Projekt Management System"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(nt,{}),(t==null?void 0:t.role)==="admin"&&e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>s("/admin"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(He,{className:"h-4 w-4"})})]})]})}),e.jsxs("div",{className:"p-3 sm:p-4 pb-20",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsx(ee,{title:"Aktive Projekte",value:o,icon:e.jsx(G,{className:"h-5 w-5"}),color:"bg-green-500"}),e.jsx(ee,{title:"Neue Aufgaben",value:a,icon:e.jsx(V,{className:"h-5 w-5"}),color:"bg-orange-500"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Aktuelle Projekte"}),e.jsx(S,{href:"/projects",children:e.jsx(C,{variant:"link",className:"text-green-600 text-sm font-medium p-0",children:"Alle anzeigen"})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:d.length>0?d.map(i=>e.jsx(Ee,{project:i},i.id)):e.jsx(b,{className:"p-6 text-center",children:e.jsxs(v,{className:"p-0",children:[e.jsx(G,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Noch keine Projekte vorhanden"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Erstellen Sie Ihr erstes Projekt, um loszulegen"})]})})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Schnellzugriff"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:[((t==null?void 0:t.role)==="manager"||(t==null?void 0:t.role)==="admin")&&e.jsx(b,{className:"p-3 text-center hover:shadow-md transition-shadow cursor-pointer",onClick:()=>s("/projects?create=true"),children:e.jsxs(v,{className:"p-0",children:[e.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-xl flex items-center justify-center mx-auto mb-2",children:e.jsx(Me,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Neues Projekt"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Projekt erstellen"})]})}),e.jsx(S,{href:"/camera",children:e.jsx(b,{className:"p-3 text-center hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(v,{className:"p-0",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-2",children:e.jsx(Be,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Foto aufnehmen"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Dokumentieren"})]})})}),e.jsx(S,{href:"/flood-protection",children:e.jsx(b,{className:"p-3 text-center hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(v,{className:"p-0",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center mx-auto mb-2",children:e.jsx(Ie,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Hochwasserschutz"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Checklisten & Anlagen"})]})})}),e.jsx(S,{href:"/documents",children:e.jsx(b,{className:"p-3 text-center hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(v,{className:"p-0",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-2",children:e.jsx(Oe,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Dokumente"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Verwalten & Archiv"})]})})}),e.jsx(S,{href:"/help",children:e.jsx(b,{className:"p-3 text-center hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(v,{className:"p-0",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-xl flex items-center justify-center mx-auto mb-2",children:e.jsx(oe,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Hilfe & Infos"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Anleitungen & Support"})]})})}),e.jsx(S,{href:"/audio",children:e.jsx(b,{className:"p-3 text-center hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(v,{className:"p-0",children:[e.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-xl flex items-center justify-center mx-auto mb-2",children:e.jsx(We,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Sprachaufnahme"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Berichte sprechen"})]})})}),e.jsx(S,{href:"/ai-assistant",children:e.jsx(b,{className:"p-3 text-center hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(v,{className:"p-0",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"✨"})}),e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"KI-Assistent"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Intelligente Hilfe"})]})})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Manager-Tools"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsx(S,{href:"/sftp",children:e.jsx(b,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(v,{className:"p-0 flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(Ue,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"SFTP-Manager"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Dateien & Ordner verwalten"})]})]})})}),e.jsx(S,{href:"/customers",children:e.jsx(b,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(v,{className:"p-0 flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(Te,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Kundenverwaltung"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Kunden & Firmen"})]})]})})}),e.jsx(S,{href:"/companies",children:e.jsx(b,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(v,{className:"p-0 flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-xl flex items-center justify-center",children:e.jsx(Fe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Firmenverwaltung"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Firmen & Ansprechpartner"})]})]})})})]})]})]})]})}export{Tt as default};
