import{m as Ce,r as s,E as St,F as _e,G as Re,p as De,l as Et,j as e,H as It,J as kt,n as J,K as At,k as U,o as g,N as Tt,P as T,O as Ot,Q as Lt,V as Ft,W as $t,Y as Gt,Z as Kt,_ as Pe,$ as Ut,a0 as be,s as C,i as Bt,a1 as zt,e as Vt,u as Yt,y as Xt,w as Ht,z as Wt,x as A,B as Z,C as R,a as D}from"./index-CyhjQ_VK.js";import{B as Zt}from"./badge-BZr39Q1C.js";import{P as Qt}from"./progress-D76rD4VV.js";import{M as qt}from"./mobile-nav-Cu-R2ZoU.js";import{h as Jt,u as en,R as tn,F as nn}from"./Combination-DDccCRPx.js";import{C as rn}from"./chevron-right-BNpR6-Uw.js";import{C as on}from"./circle-DZ9vjeD0.js";import{A as an}from"./arrow-left-C8JrTeqc.js";import{E as sn}from"./ellipsis-vertical-CKkbyHks.js";import{S as cn}from"./square-pen-DsHIieuw.js";import{S as dn}from"./share-DWOJcUnD.js";import{D as ln}from"./download-DSsmF7Wj.js";import{T as un}from"./trash-2-Bnck2P-r.js";import{C as Me}from"./camera-BUbOfpe-.js";import{M as mn}from"./mic-COeeLFIv.js";import{F as pn}from"./file-text-BJnhxmUe.js";import{M as Ne}from"./map-pin-LITRY39W.js";var ce=["Enter"," "],fn=["ArrowDown","PageUp","Home"],Se=["ArrowUp","PageDown","End"],xn=[...fn,...Se],hn={ltr:[...ce,"ArrowRight"],rtl:[...ce,"ArrowLeft"]},gn={ltr:["ArrowLeft"],rtl:["ArrowRight"]},B="Menu",[G,wn,vn]=St(B),[P,Ee]=Ce(B,[vn,_e,Re]),ee=_e(),Ie=Re(),[jn,S]=P(B),[bn,z]=P(B),ke=t=>{const{__scopeMenu:o,open:r=!1,children:n,dir:a,onOpenChange:c,modal:l=!0}=t,m=ee(o),[f,x]=s.useState(null),p=s.useRef(!1),i=De(c),d=Et(a);return s.useEffect(()=>{const h=()=>{p.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>p.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),e.jsx(It,{...m,children:e.jsx(jn,{scope:o,open:r,onOpenChange:i,content:f,onContentChange:x,children:e.jsx(bn,{scope:o,onClose:s.useCallback(()=>i(!1),[i]),isUsingKeyboardRef:p,dir:d,modal:l,children:n})})})};ke.displayName=B;var Mn="MenuAnchor",ie=s.forwardRef((t,o)=>{const{__scopeMenu:r,...n}=t,a=ee(r);return e.jsx(kt,{...a,...n,ref:o})});ie.displayName=Mn;var de="MenuPortal",[Nn,Ae]=P(de,{forceMount:void 0}),Te=t=>{const{__scopeMenu:o,forceMount:r,children:n,container:a}=t,c=S(de,o);return e.jsx(Nn,{scope:o,forceMount:r,children:e.jsx(J,{present:r||c.open,children:e.jsx(At,{asChild:!0,container:a,children:n})})})};Te.displayName=de;var b="MenuContent",[yn,le]=P(b),Oe=s.forwardRef((t,o)=>{const r=Ae(b,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,c=S(b,t.__scopeMenu),l=z(b,t.__scopeMenu);return e.jsx(G.Provider,{scope:t.__scopeMenu,children:e.jsx(J,{present:n||c.open,children:e.jsx(G.Slot,{scope:t.__scopeMenu,children:l.modal?e.jsx(Cn,{...a,ref:o}):e.jsx(_n,{...a,ref:o})})})})}),Cn=s.forwardRef((t,o)=>{const r=S(b,t.__scopeMenu),n=s.useRef(null),a=U(o,n);return s.useEffect(()=>{const c=n.current;if(c)return Jt(c)},[]),e.jsx(ue,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:g(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),_n=s.forwardRef((t,o)=>{const r=S(b,t.__scopeMenu);return e.jsx(ue,{...t,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Rn=Lt("MenuContent.ScrollLock"),ue=s.forwardRef((t,o)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:l,disableOutsidePointerEvents:m,onEntryFocus:f,onEscapeKeyDown:x,onPointerDownOutside:p,onFocusOutside:i,onInteractOutside:d,onDismiss:h,disableOutsideScroll:w,..._}=t,E=S(b,r),O=z(b,r),V=ee(r),Y=Ie(r),xe=wn(r),[yt,he]=s.useState(null),X=s.useRef(null),Ct=U(o,X,E.onContentChange),H=s.useRef(0),W=s.useRef(""),_t=s.useRef(0),re=s.useRef(null),ge=s.useRef("right"),oe=s.useRef(0),Rt=w?tn:s.Fragment,Dt=w?{as:Rn,allowPinchZoom:!0}:void 0,Pt=u=>{var k,ve;const j=W.current+u,M=xe().filter(N=>!N.disabled),y=document.activeElement,ae=(k=M.find(N=>N.ref.current===y))==null?void 0:k.textValue,se=M.map(N=>N.textValue),we=$n(se,j,ae),L=(ve=M.find(N=>N.textValue===we))==null?void 0:ve.ref.current;(function N(je){W.current=je,window.clearTimeout(H.current),je!==""&&(H.current=window.setTimeout(()=>N(""),1e3))})(j),L&&setTimeout(()=>L.focus())};s.useEffect(()=>()=>window.clearTimeout(H.current),[]),en();const I=s.useCallback(u=>{var M,y;return ge.current===((M=re.current)==null?void 0:M.side)&&Kn(u,(y=re.current)==null?void 0:y.area)},[]);return e.jsx(yn,{scope:r,searchRef:W,onItemEnter:s.useCallback(u=>{I(u)&&u.preventDefault()},[I]),onItemLeave:s.useCallback(u=>{var j;I(u)||((j=X.current)==null||j.focus(),he(null))},[I]),onTriggerLeave:s.useCallback(u=>{I(u)&&u.preventDefault()},[I]),pointerGraceTimerRef:_t,onPointerGraceIntentChange:s.useCallback(u=>{re.current=u},[]),children:e.jsx(Rt,{...Dt,children:e.jsx(nn,{asChild:!0,trapped:a,onMountAutoFocus:g(c,u=>{var j;u.preventDefault(),(j=X.current)==null||j.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(Ft,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:x,onPointerDownOutside:p,onFocusOutside:i,onInteractOutside:d,onDismiss:h,children:e.jsx($t,{asChild:!0,...Y,dir:O.dir,orientation:"vertical",loop:n,currentTabStopId:yt,onCurrentTabStopIdChange:he,onEntryFocus:g(f,u=>{O.isUsingKeyboardRef.current||u.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Gt,{role:"menu","aria-orientation":"vertical","data-state":qe(E.open),"data-radix-menu-content":"",dir:O.dir,...V,..._,ref:Ct,style:{outline:"none",..._.style},onKeyDown:g(_.onKeyDown,u=>{const M=u.target.closest("[data-radix-menu-content]")===u.currentTarget,y=u.ctrlKey||u.altKey||u.metaKey,ae=u.key.length===1;M&&(u.key==="Tab"&&u.preventDefault(),!y&&ae&&Pt(u.key));const se=X.current;if(u.target!==se||!xn.includes(u.key))return;u.preventDefault();const L=xe().filter(k=>!k.disabled).map(k=>k.ref.current);Se.includes(u.key)&&L.reverse(),Ln(L)}),onBlur:g(t.onBlur,u=>{u.currentTarget.contains(u.target)||(window.clearTimeout(H.current),W.current="")}),onPointerMove:g(t.onPointerMove,K(u=>{const j=u.target,M=oe.current!==u.clientX;if(u.currentTarget.contains(j)&&M){const y=u.clientX>oe.current?"right":"left";ge.current=y,oe.current=u.clientX}}))})})})})})})});Oe.displayName=b;var Dn="MenuGroup",me=s.forwardRef((t,o)=>{const{__scopeMenu:r,...n}=t;return e.jsx(T.div,{role:"group",...n,ref:o})});me.displayName=Dn;var Pn="MenuLabel",Le=s.forwardRef((t,o)=>{const{__scopeMenu:r,...n}=t;return e.jsx(T.div,{...n,ref:o})});Le.displayName=Pn;var Q="MenuItem",ye="menu.itemSelect",te=s.forwardRef((t,o)=>{const{disabled:r=!1,onSelect:n,...a}=t,c=s.useRef(null),l=z(Q,t.__scopeMenu),m=le(Q,t.__scopeMenu),f=U(o,c),x=s.useRef(!1),p=()=>{const i=c.current;if(!r&&i){const d=new CustomEvent(ye,{bubbles:!0,cancelable:!0});i.addEventListener(ye,h=>n==null?void 0:n(h),{once:!0}),Ot(i,d),d.defaultPrevented?x.current=!1:l.onClose()}};return e.jsx(Fe,{...a,ref:f,disabled:r,onClick:g(t.onClick,p),onPointerDown:i=>{var d;(d=t.onPointerDown)==null||d.call(t,i),x.current=!0},onPointerUp:g(t.onPointerUp,i=>{var d;x.current||(d=i.currentTarget)==null||d.click()}),onKeyDown:g(t.onKeyDown,i=>{const d=m.searchRef.current!=="";r||d&&i.key===" "||ce.includes(i.key)&&(i.currentTarget.click(),i.preventDefault())})})});te.displayName=Q;var Fe=s.forwardRef((t,o)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...c}=t,l=le(Q,r),m=Ie(r),f=s.useRef(null),x=U(o,f),[p,i]=s.useState(!1),[d,h]=s.useState("");return s.useEffect(()=>{const w=f.current;w&&h((w.textContent??"").trim())},[c.children]),e.jsx(G.ItemSlot,{scope:r,disabled:n,textValue:a??d,children:e.jsx(Tt,{asChild:!0,...m,focusable:!n,children:e.jsx(T.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...c,ref:x,onPointerMove:g(t.onPointerMove,K(w=>{n?l.onItemLeave(w):(l.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:g(t.onPointerLeave,K(w=>l.onItemLeave(w))),onFocus:g(t.onFocus,()=>i(!0)),onBlur:g(t.onBlur,()=>i(!1))})})})}),Sn="MenuCheckboxItem",$e=s.forwardRef((t,o)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return e.jsx(ze,{scope:t.__scopeMenu,checked:r,children:e.jsx(te,{role:"menuitemcheckbox","aria-checked":q(r)?"mixed":r,...a,ref:o,"data-state":fe(r),onSelect:g(a.onSelect,()=>n==null?void 0:n(q(r)?!0:!r),{checkForDefaultPrevented:!1})})})});$e.displayName=Sn;var Ge="MenuRadioGroup",[En,In]=P(Ge,{value:void 0,onValueChange:()=>{}}),Ke=s.forwardRef((t,o)=>{const{value:r,onValueChange:n,...a}=t,c=De(n);return e.jsx(En,{scope:t.__scopeMenu,value:r,onValueChange:c,children:e.jsx(me,{...a,ref:o})})});Ke.displayName=Ge;var Ue="MenuRadioItem",Be=s.forwardRef((t,o)=>{const{value:r,...n}=t,a=In(Ue,t.__scopeMenu),c=r===a.value;return e.jsx(ze,{scope:t.__scopeMenu,checked:c,children:e.jsx(te,{role:"menuitemradio","aria-checked":c,...n,ref:o,"data-state":fe(c),onSelect:g(n.onSelect,()=>{var l;return(l=a.onValueChange)==null?void 0:l.call(a,r)},{checkForDefaultPrevented:!1})})})});Be.displayName=Ue;var pe="MenuItemIndicator",[ze,kn]=P(pe,{checked:!1}),Ve=s.forwardRef((t,o)=>{const{__scopeMenu:r,forceMount:n,...a}=t,c=kn(pe,r);return e.jsx(J,{present:n||q(c.checked)||c.checked===!0,children:e.jsx(T.span,{...a,ref:o,"data-state":fe(c.checked)})})});Ve.displayName=pe;var An="MenuSeparator",Ye=s.forwardRef((t,o)=>{const{__scopeMenu:r,...n}=t;return e.jsx(T.div,{role:"separator","aria-orientation":"horizontal",...n,ref:o})});Ye.displayName=An;var Tn="MenuArrow",Xe=s.forwardRef((t,o)=>{const{__scopeMenu:r,...n}=t,a=ee(r);return e.jsx(Kt,{...a,...n,ref:o})});Xe.displayName=Tn;var On="MenuSub",[Hr,He]=P(On),F="MenuSubTrigger",We=s.forwardRef((t,o)=>{const r=S(F,t.__scopeMenu),n=z(F,t.__scopeMenu),a=He(F,t.__scopeMenu),c=le(F,t.__scopeMenu),l=s.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:f}=c,x={__scopeMenu:t.__scopeMenu},p=s.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return s.useEffect(()=>p,[p]),s.useEffect(()=>{const i=m.current;return()=>{window.clearTimeout(i),f(null)}},[m,f]),e.jsx(ie,{asChild:!0,...x,children:e.jsx(Fe,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":qe(r.open),...t,ref:Pe(o,a.onTriggerChange),onClick:i=>{var d;(d=t.onClick)==null||d.call(t,i),!(t.disabled||i.defaultPrevented)&&(i.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:g(t.onPointerMove,K(i=>{c.onItemEnter(i),!i.defaultPrevented&&!t.disabled&&!r.open&&!l.current&&(c.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:g(t.onPointerLeave,K(i=>{var h,w;p();const d=(h=r.content)==null?void 0:h.getBoundingClientRect();if(d){const _=(w=r.content)==null?void 0:w.dataset.side,E=_==="right",O=E?-5:5,V=d[E?"left":"right"],Y=d[E?"right":"left"];c.onPointerGraceIntentChange({area:[{x:i.clientX+O,y:i.clientY},{x:V,y:d.top},{x:Y,y:d.top},{x:Y,y:d.bottom},{x:V,y:d.bottom}],side:_}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(i),i.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:g(t.onKeyDown,i=>{var h;const d=c.searchRef.current!=="";t.disabled||d&&i.key===" "||hn[n.dir].includes(i.key)&&(r.onOpenChange(!0),(h=r.content)==null||h.focus(),i.preventDefault())})})})});We.displayName=F;var Ze="MenuSubContent",Qe=s.forwardRef((t,o)=>{const r=Ae(b,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,c=S(b,t.__scopeMenu),l=z(b,t.__scopeMenu),m=He(Ze,t.__scopeMenu),f=s.useRef(null),x=U(o,f);return e.jsx(G.Provider,{scope:t.__scopeMenu,children:e.jsx(J,{present:n||c.open,children:e.jsx(G.Slot,{scope:t.__scopeMenu,children:e.jsx(ue,{id:m.contentId,"aria-labelledby":m.triggerId,...a,ref:x,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var i;l.isUsingKeyboardRef.current&&((i=f.current)==null||i.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:g(t.onFocusOutside,p=>{p.target!==m.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:g(t.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:g(t.onKeyDown,p=>{var h;const i=p.currentTarget.contains(p.target),d=gn[l.dir].includes(p.key);i&&d&&(c.onOpenChange(!1),(h=m.trigger)==null||h.focus(),p.preventDefault())})})})})})});Qe.displayName=Ze;function qe(t){return t?"open":"closed"}function q(t){return t==="indeterminate"}function fe(t){return q(t)?"indeterminate":t?"checked":"unchecked"}function Ln(t){const o=document.activeElement;for(const r of t)if(r===o||(r.focus(),document.activeElement!==o))return}function Fn(t,o){return t.map((r,n)=>t[(o+n)%t.length])}function $n(t,o,r){const a=o.length>1&&Array.from(o).every(x=>x===o[0])?o[0]:o,c=r?t.indexOf(r):-1;let l=Fn(t,Math.max(c,0));a.length===1&&(l=l.filter(x=>x!==r));const f=l.find(x=>x.toLowerCase().startsWith(a.toLowerCase()));return f!==r?f:void 0}function Gn(t,o){const{x:r,y:n}=t;let a=!1;for(let c=0,l=o.length-1;c<o.length;l=c++){const m=o[c],f=o[l],x=m.x,p=m.y,i=f.x,d=f.y;p>n!=d>n&&r<(i-x)*(n-p)/(d-p)+x&&(a=!a)}return a}function Kn(t,o){if(!o)return!1;const r={x:t.clientX,y:t.clientY};return Gn(r,o)}function K(t){return o=>o.pointerType==="mouse"?t(o):void 0}var Un=ke,Bn=ie,zn=Te,Vn=Oe,Yn=me,Xn=Le,Hn=te,Wn=$e,Zn=Ke,Qn=Be,qn=Ve,Jn=Ye,er=Xe,tr=We,nr=Qe,ne="DropdownMenu",[rr,Wr]=Ce(ne,[Ee]),v=Ee(),[or,Je]=rr(ne),et=t=>{const{__scopeDropdownMenu:o,children:r,dir:n,open:a,defaultOpen:c,onOpenChange:l,modal:m=!0}=t,f=v(o),x=s.useRef(null),[p,i]=Ut({prop:a,defaultProp:c??!1,onChange:l,caller:ne});return e.jsx(or,{scope:o,triggerId:be(),triggerRef:x,contentId:be(),open:p,onOpenChange:i,onOpenToggle:s.useCallback(()=>i(d=>!d),[i]),modal:m,children:e.jsx(Un,{...f,open:p,onOpenChange:i,dir:n,modal:m,children:r})})};et.displayName=ne;var tt="DropdownMenuTrigger",nt=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,c=Je(tt,r),l=v(r);return e.jsx(Bn,{asChild:!0,...l,children:e.jsx(T.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Pe(o,c.triggerRef),onPointerDown:g(t.onPointerDown,m=>{!n&&m.button===0&&m.ctrlKey===!1&&(c.onOpenToggle(),c.open||m.preventDefault())}),onKeyDown:g(t.onKeyDown,m=>{n||(["Enter"," "].includes(m.key)&&c.onOpenToggle(),m.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(m.key)&&m.preventDefault())})})})});nt.displayName=tt;var ar="DropdownMenuPortal",rt=t=>{const{__scopeDropdownMenu:o,...r}=t,n=v(o);return e.jsx(zn,{...n,...r})};rt.displayName=ar;var ot="DropdownMenuContent",at=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:r,...n}=t,a=Je(ot,r),c=v(r),l=s.useRef(!1);return e.jsx(Vn,{id:a.contentId,"aria-labelledby":a.triggerId,...c,...n,ref:o,onCloseAutoFocus:g(t.onCloseAutoFocus,m=>{var f;l.current||(f=a.triggerRef.current)==null||f.focus(),l.current=!1,m.preventDefault()}),onInteractOutside:g(t.onInteractOutside,m=>{const f=m.detail.originalEvent,x=f.button===0&&f.ctrlKey===!0,p=f.button===2||x;(!a.modal||p)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});at.displayName=ot;var sr="DropdownMenuGroup",cr=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:r,...n}=t,a=v(r);return e.jsx(Yn,{...a,...n,ref:o})});cr.displayName=sr;var ir="DropdownMenuLabel",st=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:r,...n}=t,a=v(r);return e.jsx(Xn,{...a,...n,ref:o})});st.displayName=ir;var dr="DropdownMenuItem",ct=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:r,...n}=t,a=v(r);return e.jsx(Hn,{...a,...n,ref:o})});ct.displayName=dr;var lr="DropdownMenuCheckboxItem",it=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:r,...n}=t,a=v(r);return e.jsx(Wn,{...a,...n,ref:o})});it.displayName=lr;var ur="DropdownMenuRadioGroup",mr=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:r,...n}=t,a=v(r);return e.jsx(Zn,{...a,...n,ref:o})});mr.displayName=ur;var pr="DropdownMenuRadioItem",dt=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:r,...n}=t,a=v(r);return e.jsx(Qn,{...a,...n,ref:o})});dt.displayName=pr;var fr="DropdownMenuItemIndicator",lt=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:r,...n}=t,a=v(r);return e.jsx(qn,{...a,...n,ref:o})});lt.displayName=fr;var xr="DropdownMenuSeparator",ut=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:r,...n}=t,a=v(r);return e.jsx(Jn,{...a,...n,ref:o})});ut.displayName=xr;var hr="DropdownMenuArrow",gr=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:r,...n}=t,a=v(r);return e.jsx(er,{...a,...n,ref:o})});gr.displayName=hr;var wr="DropdownMenuSubTrigger",mt=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:r,...n}=t,a=v(r);return e.jsx(tr,{...a,...n,ref:o})});mt.displayName=wr;var vr="DropdownMenuSubContent",pt=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:r,...n}=t,a=v(r);return e.jsx(nr,{...a,...n,ref:o,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pt.displayName=vr;var jr=et,br=nt,Mr=rt,ft=at,xt=st,ht=ct,gt=it,wt=dt,vt=lt,jt=ut,bt=mt,Mt=pt;const Nr=jr,yr=br,Cr=s.forwardRef(({className:t,inset:o,children:r,...n},a)=>e.jsxs(bt,{ref:a,className:C("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",o&&"pl-8",t),...n,children:[r,e.jsx(rn,{className:"ml-auto"})]}));Cr.displayName=bt.displayName;const _r=s.forwardRef(({className:t,...o},r)=>e.jsx(Mt,{ref:r,className:C("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...o}));_r.displayName=Mt.displayName;const Nt=s.forwardRef(({className:t,sideOffset:o=4,...r},n)=>e.jsx(Mr,{children:e.jsx(ft,{ref:n,sideOffset:o,className:C("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));Nt.displayName=ft.displayName;const $=s.forwardRef(({className:t,inset:o,...r},n)=>e.jsx(ht,{ref:n,className:C("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",o&&"pl-8",t),...r}));$.displayName=ht.displayName;const Rr=s.forwardRef(({className:t,children:o,checked:r,...n},a)=>e.jsxs(gt,{ref:a,className:C("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(vt,{children:e.jsx(Bt,{className:"h-4 w-4"})})}),o]}));Rr.displayName=gt.displayName;const Dr=s.forwardRef(({className:t,children:o,...r},n)=>e.jsxs(wt,{ref:n,className:C("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(vt,{children:e.jsx(on,{className:"h-2 w-2 fill-current"})})}),o]}));Dr.displayName=wt.displayName;const Pr=s.forwardRef(({className:t,inset:o,...r},n)=>e.jsx(xt,{ref:n,className:C("px-2 py-1.5 text-sm font-semibold",o&&"pl-8",t),...r}));Pr.displayName=xt.displayName;const Sr=s.forwardRef(({className:t,...o},r)=>e.jsx(jt,{ref:r,className:C("-mx-1 my-1 h-px bg-muted",t),...o}));Sr.displayName=jt.displayName;function Zr(){const{id:t}=zt(),[,o]=Vt(),{toast:r}=Yt();Xt();const{data:n,isLoading:a}=Ht({queryKey:[`/api/projects/${t}`],enabled:!!t}),c=Wt({mutationFn:async()=>{const i=await fetch(`/api/projects/${t}/export-pdf`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error("PDF export failed");return await i.blob()},onSuccess:i=>{const d=window.URL.createObjectURL(i),h=document.createElement("a");h.href=d,h.download=`${(n==null?void 0:n.name)||"Projekt"}_Details.pdf`,document.body.appendChild(h),h.click(),window.URL.revokeObjectURL(d),document.body.removeChild(h),r({title:"PDF exportiert",description:"Das PDF wurde erfolgreich heruntergeladen."})},onError:()=>{r({title:"Fehler beim Export",description:"Das PDF konnte nicht erstellt werden.",variant:"destructive"})}}),l=()=>{c.mutate()},m=()=>{const i={title:`Projekt: ${n==null?void 0:n.name}`,text:`Schauen Sie sich die Details zu diesem Bauprojekt an: ${n==null?void 0:n.name}`,url:window.location.href};navigator.share?navigator.share(i).catch(()=>{f()}):f()},f=()=>{const i=window.location.href,d=`Projekt: ${n==null?void 0:n.name}
Details: ${i}`;navigator.clipboard.writeText(d).then(()=>{r({title:"Link kopiert",description:"Der Projektlink wurde in die Zwischenablage kopiert."})}).catch(()=>{const h=`https://wa.me/?text=${encodeURIComponent(d)}`;`${encodeURIComponent(`Projekt: ${n==null?void 0:n.name}`)}${encodeURIComponent(d)}`,window.open(h,"_blank")})};if(a)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Lade Projektdetails..."})]})});if(!n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Projekt nicht gefunden"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Das angeforderte Projekt existiert nicht."}),e.jsx(A,{href:"/projects",children:e.jsx(Z,{children:"Zurück zu Projekten"})})]})});const x=i=>{switch(i){case"active":return"bg-green-500";case"planning":return"bg-orange-500";case"completed":return"bg-gray-500";default:return"bg-gray-400"}},p=i=>{switch(i){case"active":return"Aktiv";case"planning":return"Planung";case"completed":return"Abgeschlossen";case"cancelled":return"Abgebrochen";default:return"Unbekannt"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-green-500 text-white sticky top-0 z-40",children:e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(A,{href:"/projects",children:e.jsx(Z,{variant:"ghost",size:"sm",className:"text-white hover:bg-green-600",children:e.jsx(an,{className:"h-4 w-4"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold truncate",children:n.name}),e.jsx("p",{className:"text-xs opacity-80",children:n.latitude&&n.longitude&&"München, Bayern"})]})]}),e.jsxs(Nr,{children:[e.jsx(yr,{asChild:!0,children:e.jsx(Z,{variant:"ghost",size:"sm",className:"text-white",children:e.jsx(sn,{className:"h-4 w-4"})})}),e.jsxs(Nt,{align:"end",className:"w-48",children:[e.jsxs($,{onClick:()=>o(`/projects/${t}/edit`),children:[e.jsx(cn,{className:"h-4 w-4 mr-2"}),"Projekt bearbeiten"]}),e.jsxs($,{onClick:m,children:[e.jsx(dn,{className:"h-4 w-4 mr-2"}),"Projekt teilen"]}),e.jsxs($,{onClick:l,disabled:c.isPending,children:[e.jsx(ln,{className:"h-4 w-4 mr-2"}),c.isPending?"Exportiere...":"Als PDF exportieren"]}),e.jsxs($,{className:"text-red-600",children:[e.jsx(un,{className:"h-4 w-4 mr-2"}),"Projekt löschen"]})]})]})]})})}),e.jsxs("div",{className:"p-4 pb-20",children:[e.jsx(R,{className:"mb-6",children:e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Projektstatus"}),e.jsx(Zt,{className:`${x(n.status)} text-white`,children:p(n.status)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-1",children:"Startdatum"}),e.jsx("p",{className:"font-semibold text-gray-900",children:n.startDate?new Date(n.startDate).toLocaleDateString("de-DE"):"Nicht festgelegt"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-1",children:"Enddatum"}),e.jsx("p",{className:"font-semibold text-gray-900",children:n.endDate?new Date(n.endDate).toLocaleDateString("de-DE"):"Nicht festgelegt"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-1",children:"Budget"}),e.jsx("p",{className:"font-semibold text-gray-900",children:n.budget?`€${Number(n.budget).toLocaleString()}`:"Nicht festgelegt"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-1",children:"Auftraggeber"}),e.jsx("p",{className:"font-semibold text-gray-900",children:n.customerId?"Kunde zugewiesen":"Kein Kunde"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[e.jsx("span",{children:"Gesamtfortschritt"}),e.jsxs("span",{children:[n.completionPercentage||0,"%"]})]}),e.jsx(Qt,{value:n.completionPercentage||0,className:"h-3"})]})]})}),n.description&&e.jsx(R,{className:"mb-6",children:e.jsxs(D,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Projektbeschreibung"}),e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.description})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[e.jsx(A,{href:"/camera",children:e.jsx(R,{className:"p-3 text-center hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(D,{className:"p-0",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-2",children:e.jsx(Me,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"font-medium text-gray-900 text-xs",children:"Foto hinzufügen"})]})})}),e.jsx(A,{href:"/audio-recorder",children:e.jsx(R,{className:"p-3 text-center hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(D,{className:"p-0",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center mx-auto mb-2",children:e.jsx(mn,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"font-medium text-gray-900 text-xs",children:"Audio-Notiz"})]})})}),e.jsx(A,{href:"/documents",children:e.jsx(R,{className:"p-3 text-center hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(D,{className:"p-0",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-2",children:e.jsx(pn,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"font-medium text-gray-900 text-xs",children:"Dokumente"})]})})})]}),e.jsx(R,{className:"mb-6",children:e.jsxs(D,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Aktuelle Aktivitäten"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Me,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[e.jsx("strong",{children:"Projektleiter"})," hat das Projekt erstellt"]}),e.jsx("p",{className:"text-xs text-gray-600",children:n.createdAt?new Date(n.createdAt).toLocaleDateString("de-DE"):"Kürzlich"})]})]})})]})}),n.latitude&&n.longitude&&e.jsx(R,{className:"mb-6",children:e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Standort"}),e.jsx(A,{href:`/maps?address=${encodeURIComponent(n.address||`${n.name} - Projektstandort`)}&lat=${n.latitude}&lng=${n.longitude}`,children:e.jsx(Z,{variant:"link",className:"text-green-600 text-sm font-medium p-0",children:"Karte öffnen"})})]}),e.jsxs("div",{className:"relative h-40 bg-gray-300 rounded-lg overflow-hidden mb-4",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1504307651254-35680f356dfd?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400",alt:"Aerial view of construction site",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 flex items-center justify-center",children:e.jsx("div",{className:"bg-white rounded-full p-3",children:e.jsx(Ne,{className:"h-6 w-6 text-green-500"})})})]}),e.jsx("div",{className:"text-sm text-gray-600",children:e.jsxs("p",{className:"flex items-center",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2 text-green-500"}),"GPS: ",Number(n.latitude).toFixed(4),"°N, ",Number(n.longitude).toFixed(4),"°E"]})})]})})]}),e.jsx(qt,{})]})}export{Zr as default};
