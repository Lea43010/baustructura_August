import{a1 as T,e as A,u as S,r as E,j as e,B as l,C as a,a as n,T as D,f as L,g as h,h as g,b as c,d,ac as u,D as r,I as m,a5 as Z}from"./index-CyhjQ_VK.js";import{B as j}from"./badge-BZr39Q1C.js";import{T as b}from"./textarea-BuGvpmpE.js";import{P as z}from"./page-header-CfMEZ_QD.js";import{M as B}from"./mobile-nav-Cu-R2ZoU.js";import{A as P}from"./arrow-left-C8JrTeqc.js";import{C as I}from"./clock-I34conbD.js";import{C as F}from"./circle-check-big-sNzTz-JF.js";import{S as p}from"./save-BWvkuADS.js";import{C as N}from"./camera-BUbOfpe-.js";function Q(){const v=T(),[,f]=A(),{toast:x}=S(),[k,y]=E.useState("aufgaben");v.id;const t={titel:"Hochwasserereignis Juni 2025",status:"in_bearbeitung",erstellt_am:"2025-06-29T17:35:00Z",erstellt_von:"Lea Zimmer",beginn_pegelstand_cm:245,beschreibung:"Starkregen-Event nach Unwetterwarnung",fortschritt:45,aufgaben_gesamt:11,aufgaben_erledigt:5},w=[{id:1,nr:1,beschreibung:"Pegelstand dokumentieren und melden",erledigt:!0,erledigt_am:"2025-06-29T17:40:00Z",erledigt_von:"Lea Zimmer",datum:"2025-06-29",pegelstand_cm:245,bemerkung:"Pegelstand steigt kontinuierlich"},{id:2,nr:2,beschreibung:"Einsatzleitung informieren",erledigt:!0,erledigt_am:"2025-06-29T17:45:00Z",erledigt_von:"Lea Zimmer",datum:"2025-06-29",bemerkung:"Herr Müller telefonisch erreicht"},{id:3,nr:3,beschreibung:"Absperrschieber auf Funktionsfähigkeit prüfen",erledigt:!0,erledigt_am:"2025-06-29T18:00:00Z",erledigt_von:"Lea Zimmer",bemerkung:"Alle 8 Schieber getestet, 1 defekt (Nr. 3)"},{id:4,nr:4,beschreibung:"Notfallausrüstung überprüfen",erledigt:!0,erledigt_am:"2025-06-29T18:15:00Z",erledigt_von:"Lea Zimmer",bemerkung:"Sandsäcke und Pumpen einsatzbereit"},{id:5,nr:5,beschreibung:"Deichwachen einteilen und briefen",erledigt:!0,erledigt_am:"2025-06-29T18:30:00Z",erledigt_von:"Lea Zimmer",bemerkung:"4 Teams à 2 Personen eingeteilt"},{id:6,nr:6,beschreibung:"Evakuierungspläne aktualisieren",erledigt:!1,bemerkung:""}],_=[{id:7,nr:1,beschreibung:"Endpegelstand dokumentieren",erledigt:!1},{id:8,nr:2,beschreibung:"Absperrschieber zurücksetzen",erledigt:!1},{id:9,nr:3,beschreibung:"Ausrüstung reinigen und verstauen",erledigt:!1},{id:10,nr:4,beschreibung:"Schadensdokumentation erstellen",erledigt:!1},{id:11,nr:5,beschreibung:"Abschlussbericht verfassen",erledigt:!1}],o=async(s,i)=>{try{x({title:"Aufgabe aktualisiert",description:i?"Aufgabe als erledigt markiert":"Aufgabe als offen markiert"})}catch{x({title:"Fehler",description:"Fehler beim Aktualisieren der Aufgabe.",variant:"destructive"})}},C=async s=>{x({title:"Gespeichert",description:"Aufgaben-Details wurden gespeichert."})};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(z,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>f("/flood-protection"),children:e.jsx(P,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:t.titel}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[e.jsxs("span",{children:["Erstellt: ",new Date(t.erstellt_am).toLocaleDateString("de-DE")]}),e.jsx(j,{className:"bg-blue-600 text-white",children:"Hochwasser"}),e.jsxs("span",{children:["Pegelstand: ",t.beginn_pegelstand_cm," cm"]})]})]})]})}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsx(a,{children:e.jsxs(n,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Gesamtfortschritt"}),e.jsxs("span",{className:"text-sm font-medium",children:[t.aufgaben_erledigt,"/",t.aufgaben_gesamt," Aufgaben"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-green-500 h-3 rounded-full transition-all",style:{width:`${t.fortschritt}%`}})}),e.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[t.fortschritt,"% abgeschlossen"]})]})}),e.jsxs(D,{value:k,onValueChange:y,children:[e.jsxs(L,{className:"grid w-full grid-cols-3",children:[e.jsx(h,{value:"aufgaben",children:"Aufgaben"}),e.jsx(h,{value:"schieber",children:"Schieber"}),e.jsx(h,{value:"info",children:"Info"})]}),e.jsxs(g,{value:"aufgaben",className:"space-y-6 mt-6",children:[e.jsxs(a,{children:[e.jsx(c,{children:e.jsxs(d,{className:"text-lg flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5 text-green-600"}),"Beginn des Betriebes"]})}),e.jsx(n,{className:"space-y-4",children:w.map(s=>e.jsx(a,{className:"p-4 border border-gray-200",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(u,{checked:s.erledigt,onCheckedChange:i=>o(s.id,!!i),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium text-sm text-gray-900",children:[s.nr,". ",s.beschreibung]}),s.erledigt&&e.jsx(F,{className:"h-4 w-4 text-green-600"})]}),s.erledigt&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Erledigt: ",new Date(s.erledigt_am).toLocaleString("de-DE")," von ",s.erledigt_von]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 ml-6",children:[s.nr===1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-xs",children:"Datum *"}),e.jsx(m,{type:"date",value:s.datum||"",className:"h-8 text-sm"})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-xs",children:"Pegelstand (cm) *"}),e.jsx(m,{type:"number",value:s.pegelstand_cm||"",placeholder:"z.B. 245",className:"h-8 text-sm"})]})]}),s.nr!==1&&e.jsxs("div",{children:[e.jsx(r,{className:"text-xs",children:"Datum"}),e.jsx(m,{type:"date",value:s.datum||"",className:"h-8 text-sm"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(r,{className:"text-xs",children:"Bemerkung"}),e.jsx(b,{value:s.bemerkung||"",placeholder:"Zusätzliche Informationen...",rows:2,className:"text-sm"})]})]}),e.jsxs("div",{className:"flex gap-2 ml-6",children:[e.jsxs(l,{size:"sm",variant:"outline",onClick:()=>C(s.id),children:[e.jsx(p,{className:"h-3 w-3 mr-1"}),"Speichern"]}),e.jsxs(l,{size:"sm",variant:"outline",children:[e.jsx(N,{className:"h-3 w-3 mr-1"}),"Foto"]})]})]})},s.id))})]}),e.jsxs(a,{children:[e.jsx(c,{children:e.jsxs(d,{className:"text-lg flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5 text-orange-600"}),"Ende des Betriebes"]})}),e.jsx(n,{className:"space-y-4",children:_.map(s=>e.jsx(a,{className:"p-4 border border-gray-200",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(u,{checked:s.erledigt,onCheckedChange:i=>o(s.id,!!i),className:"mt-1"}),e.jsx("div",{className:"flex-1",children:e.jsxs("span",{className:"font-medium text-sm text-gray-900",children:[s.nr,". ",s.beschreibung]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 ml-6",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-xs",children:"Datum"}),e.jsx(m,{type:"date",className:"h-8 text-sm"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(r,{className:"text-xs",children:"Bemerkung"}),e.jsx(b,{placeholder:"Zusätzliche Informationen...",rows:2,className:"text-sm"})]})]}),e.jsxs("div",{className:"flex gap-2 ml-6",children:[e.jsxs(l,{size:"sm",variant:"outline",children:[e.jsx(p,{className:"h-3 w-3 mr-1"}),"Speichern"]}),e.jsxs(l,{size:"sm",variant:"outline",children:[e.jsx(N,{className:"h-3 w-3 mr-1"}),"Foto"]})]})]})},s.id))})]})]}),e.jsx(g,{value:"schieber",className:"space-y-4 mt-6",children:e.jsxs(a,{children:[e.jsx(c,{children:e.jsx(d,{children:"Schieber-Prüfungen"})}),e.jsx(n,{children:e.jsx("p",{className:"text-gray-600",children:"Schieber-Prüfungen werden hier angezeigt..."})})]})}),e.jsx(g,{value:"info",className:"space-y-4 mt-6",children:e.jsxs(a,{children:[e.jsx(c,{children:e.jsx(d,{children:"Checklisten-Information"})}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-600",children:"Erstellt von"}),e.jsx("p",{className:"text-sm",children:t.erstellt_von})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-600",children:"Erstellt am"}),e.jsx("p",{className:"text-sm",children:new Date(t.erstellt_am).toLocaleString("de-DE")})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-600",children:"Typ"}),e.jsx("p",{className:"text-sm",children:"Hochwasserereignis"})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-600",children:"Status"}),e.jsx(j,{className:"bg-blue-600 text-white",children:t.status})]})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-600",children:"Beschreibung"}),e.jsx("p",{className:"text-sm",children:t.beschreibung})]})]})]})})]})]}),e.jsx(B,{})]})}export{Q as default};
